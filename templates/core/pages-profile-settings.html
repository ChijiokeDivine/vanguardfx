{% extends "partials/appbase.html" %}
{% load static %}
{% load humanize %}
{% block content %}

<!-- removeNotificationModal -->
<div id="removeNotificationModal" class="modal fade zoomIn" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="NotificationModalbtn-close"></button>
            </div>
            <div class="modal-body">
                <div class="mt-2 text-center">
                    <lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop" colors="primary:#f7b84b,secondary:#f06548" style="width:100px;height:100px"></lord-icon>
                    <div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
                        <h4>Are you sure ?</h4>
                        <p class="text-muted mx-4 mb-0">Are you sure you want to remove this Notification ?</p>
                    </div>
                </div>
                <div class="d-flex gap-2 justify-content-center mt-4 mb-2">
                    <button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn w-sm btn-danger" id="delete-notification">Yes, Delete It!</button>
                </div>
            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="logoutNotificationModal" class="modal fade zoomIn" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    id="NotificationModalbtn-close"></button>
            </div>
            <div class="modal-body">
                <div class="mt-2 text-center">
                    <lord-icon src="https://cdn.lordicon.com/wtnrotmp.json" trigger="hover"
                        colors="primary:#f7b84b,secondary:#de000b" style="width:100px;height:100px"></lord-icon>
                    </lord-icon>
                    <div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
                        <h4>Are you sure ?</h4>
                        <p class="text-muted mx-4 mb-0">Are you sure you want to Logout ?</p>
                    </div>
                </div>
                <div class="d-flex gap-2 justify-content-center mt-4 mb-2">
                    <button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button>
                    <a type="button" href="{% url "userauths:logout"%}" class="btn w-sm btn-danger"
                        id="delete-notification">Yes, Logout!</a>
                </div>
            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
        <!-- ========== App Menu ========== -->
        <div class="app-menu navbar-menu">
            <!-- LOGO -->
            <div class="navbar-brand-box">
                <!-- Dark Logo-->
                <a href="index.html" class="logo logo-dark">
                    <span class="logo-sm">
                        <img src="{% static 'logo/logo-8.png' %}" alt="" height="40">
                    </span>
                    <span class="logo-lg">
                        <img src="{% static 'logo/logo-8.png' %}" alt="" height="40">
                    </span>
                </a>
                <!-- Light Logo-->
                <a href="/" class="logo logo-light">
                    <span class="logo-sm">
                        <img src="{% static 'logo/logo-8.png' %}" alt="" height="40">
                    </span>
                    <span class="logo-lg">
                        <img src="{% static 'logo/logo-8.png' %}" alt="" height="40">
                    </span>
                </a>
                <button type="button" class="btn btn-sm p-0 fs-20 header-item float-end btn-vertical-sm-hover"
                    id="vertical-hover">
                    <i class="ri-record-circle-line"></i>
                </button>
            </div>

            <div id="scrollbar">
                <div class="container-fluid">
        
                    <div id="two-column-menu">
                    </div>
                    <ul class="navbar-nav" id="navbar-nav">
                        <li class="nav-item d-flex d-sm-none" style="align-items: center;">
                            <a href="/" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                
                                <span data-key="t-pages"><img src="{% static 'logo/logo-8.png' %}" alt="" height="40"></span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:dashboard" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-account-circle-line"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">My Account</span>
                            </a>
                          
                        </li>
                        
                        <li class="nav-item">
                            <a href="{% url "core:deposit" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-bank-fill"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Deposit</span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:withdraw" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-arrow-left-down-line"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Withdraw</span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:deposits" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-exchange-fill"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Deposits</span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:withdrawals" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-money-dollar-circle-line"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Withdrawals</span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:plans" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-line-chart-fill"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Investment Plans</span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:transactions" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-history-fill"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Transaction History</span>
                            </a>
                          
                        </li>
                        <li class="nav-item">
                            <a href="{% url "core:referrals" %}" class="nav-link menu-link"  aria-controls="sidebarPages" >
                                <i class="ri-login-circle-fill"></i>
                                <span data-key="t-pages" style="font-family: 'Poppins', sans-serif  !important;">Referrals</span>
                            </a>
                          
                        </li>
        
                        <li class="nav-item">
                            <a href="{% url "userauths:lockscreen"%}" class="nav-link menu-link" aria-controls="sidebarPages" >
                                <i class="ri-lock-fill"></i>
                                <span data-key="t-pages"style="font-family: 'Poppins', sans-serif  !important;">Lock Screen</span>
                            </a>
        
                        </li>
        
                        <a class="nav-link menu-link" href="#" onclick="history.back()" aria-controls="sidebarPages">
                            <i class="las la-arrow-left"></i> <span data-key="t-pages">Back</span>
                        </a>
                        
                       
        
                    </ul>
                </div>
                <!-- Sidebar -->
            </div>

            <div class="sidebar-background"></div>
        </div>
        <!-- Left Sidebar End -->
        <!-- Vertical Overlay-->
        <div class="vertical-overlay"></div>

        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            <div class="page-content">
                <div class="container-fluid">

                    <div class="position-relative mx-n4 mt-n4">
                        <div class="profile-wid-bg profile-setting-img">
                            <img src="{% static 'images/crypto.jpg' %}" class="profile-wid-img" alt="">
                            <div class="overlay-content">
                               
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xxl-3">
                            <div class="card mt-n5">
                                <div class="card-body p-4">
                                    <div class="text-center">
                                        <div class="profile-user position-relative d-inline-block mx-auto  mb-4">
                                            <img src="{% static 'asset/images/users/avatar-1.jpg' %}" class="rounded-circle avatar-xl img-thumbnail user-profile-image" alt="user-profile-image">
                                            <div class="avatar-xs p-0 rounded-circle profile-photo-edit">
                                    
                                                   
                                            </div>
                                        </div>
                                        <h5 class="fs-16 mb-1">{{user.username|capfirst}}</h5>
                                        <p class="text-muted mb-0">{{user.email}}</p>
                                    </div>
                                </div>
                            </div>
                            <!--end card-->

                          
                        </div>
                        <!--end col-->
                        <div class="col-xxl-9">
                            <div class="card mt-xxl-n5">
                                <div class="card-header">
                                    <ul class="nav nav-tabs-custom rounded card-header-tabs border-bottom-0" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" data-bs-toggle="tab" href="#personalDetails" role="tab">
                                                <i class="fas fa-home"></i> Personal Details
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="card-body p-4">
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="personalDetails" role="tabpanel">
                                            {% if form.errors %}
                                            <div class="alert alert-danger">
                                                <strong style="font-size: 13px;">{{form.errors}}</strong>
                                            </div>
                                            {% endif %}
                                        </div>
                                        <script>
                                            setTimeout (() => {
                                                $(".alert").alert("close");
                                            }, 4000)
                                        </script>
                                        
                                            <form id="registerForm" method="POST">
                                                {% csrf_token %}

                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="mb-3">
                                                            <label for="firstnameInput" class="form-label">Username</label>
                                                            {{form.username}}
                                          
                                                        </div>
                                                    </div>
                                                    <!--end col-->

                                                    <!--end col-->

                                                    <!--end col-->
                                                    <div class="col-lg-6">
                                                        <div class="mb-3">
                                                            <label for="emailInput" class="form-label">Email Address</label>
                                                            {{form.email}}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="mb-3">
                                                            <label for="emailInput" class="form-label">Country</label>
                                                            {{form.address}}
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-6">
                                                        <div class="mb-3" >
                                                            <label for="cityInput" class="form-label">Referral Code</label><br>
                                                           
                                                            <span  class="copy-address fw-semibold fs-15"  data-address="https://cryptovest.online/sign-up/?ref={{user.referral_code}}" style=" border-radius:2px; padding-right: 40px; padding-left: 5px; padding-top: 5px; padding-bottom: 5px; font-size: 14px;">https://cryptovest.online/sign-up/?ref={{user.referral_code}}</span>
                                                            <span class="copy-button" style="cursor: pointer;"><img src="{% static 'asset/images/small/copy.png' %}" height="20" width="20" aria-label="copy address"></span>
                                                            <div class="copy-feedback" style="margin-top: 2px;" id="feedback"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <div class="mb-3">
                                                            <label for="cityInput" class="form-label">Password</label>
                                                            {{form.password1}}
                                                       
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <div class="mb-3">
                                                            <label for="cityInput" class="form-label">Confirm Password</label>
                                                            {{form.password2}}
                                                       
                                                        </div>
                                                    </div>
                                                    <!--end col-->
                                                    <div class="col-lg-4">
                                                        <div class="mb-3">
                                                            <label for="countryInput" class="form-label">Joining Date</label>
                                                            <input type="text" class="form-control" id="countryInput" placeholder="Country" value="{{user.date_joined|date:"d M, Y"}}" disabled/>
                                                     
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-12" style="background: #0050b2; color: #fff; "><p class="mb-3 mt-3">Other informations</p></div>
                                                    <div class="col-lg-4 mt-3" >
                                                        <div class="mb-3">
                                                            <label for="countryInput" class="form-label">BTC Wallet Address</label>
                                                            {{form.btc_address}}
                                                     
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 mt-3">
                                                        <div class="mb-3">
                                                            <label for="countryInput" class="form-label">ETH Wallet Address</label>
                                                            {{form.eth_address}}
                                                     
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-4 mt-3">
                                                        <div class="mb-3">
                                                            <label for="countryInput" class="form-label">USDT Wallet Address</label>
                                                            {{form.usdt_address}}
                                                     
                                                        </div>
                                                    </div>
                                                    <button class="btn rounded-2" style="background: #0050b2; color: #fff; margin-top: 40px;" type="submit">Update Profile</button>
                                                    <script>
                                                        document.addEventListener('DOMContentLoaded', function () {
                                                            var copyButtons = document.querySelectorAll('.copy-button');
                                                
                                                            copyButtons.forEach(function (button) {
                                                                button.addEventListener('click', function () {
                                                                    var addressElement = this.parentNode.querySelector('.copy-address');
                                                                    var address = addressElement.textContent;
                                                
                                                                    // Create a temporary input element
                                                                    var tempInput = document.createElement('input');
                                                                    tempInput.value = address;
                                                
                                                                    // Append the input element to the DOM
                                                                    document.body.appendChild(tempInput);
                                                
                                                                    // Select the input content
                                                                    tempInput.select();
                                                                    tempInput.setSelectionRange(0, 99999); // For mobile devices
                                                
                                                                    // Copy the content to the clipboard
                                                                    document.execCommand('copy');
                                                
                                                                    // Remove the temporary input element
                                                                    document.body.removeChild(tempInput);
                                                
                                                                    // Provide feedback
                                                                    var feedbackElement = this.parentNode.querySelector('.copy-feedback');
                                                                    feedbackElement.textContent = 'Address copied to clipboard!';
            
                                                                    setTimeout(function () {
                                                                        feedbackElement.textContent = '';
                                                                    }, 2000);
                                                                });
                                                            });
                                                        });
                                                    </script>
                                                   
                                                    <!--end col-->
                                                    <!--end col-->
                                                    
                                                    <!--end col-->
                                                  
                                                    <!--end col-->
                                                </div>
                                                
                                            </form>
                                                <!--end row-->
                                        </div>
                                        <!--end tab-pane-->
                                        <!--end tab-pane-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->

                </div>
                <!-- container-fluid -->
            </div><!-- End Page-content -->

         {% endblock content %}